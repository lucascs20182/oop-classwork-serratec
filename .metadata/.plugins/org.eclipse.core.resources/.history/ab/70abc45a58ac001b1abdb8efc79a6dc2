package org.serratec.app;

import java.time.LocalDate;

import org.serratec.excecoes.CpfRepetidoException;

public class Funcionario extends Pessoa {
	private double salarioBruto;
	private double descontoInss;
	private double descontoIR;
	private Dependente[] dependentes;

	public Funcionario(String nome, String cpf, LocalDate dataNascimento, double salarioBruto, double descontoInss,
			double descontoIR, Dependente[] dependentes) throws CpfRepetidoException {
		super(nome, cpf, dataNascimento);
		this.salarioBruto = salarioBruto;
		this.descontoInss = descontoInss;
		this.descontoIR = descontoIR;
		this.dependentes = dependentes;
	}

	public double getSalarioBruto() {
		return salarioBruto;
	}

	public double getDescontoInss() {
		if(this.salarioBruto <= 1100) {
			return descontoInss = this.salarioBruto * 7.5 / 100;
		} else if(this.salarioBruto <= 2203.48) {
			return descontoInss = (this.salarioBruto * 9 / 100) - 16.5;
		} else if(this.salarioBruto <= 3305.22) {
			return descontoInss = (this.salarioBruto * 12 / 100) - 82.61;
		} else if(this.salarioBruto <= 6433.57) {
			return descontoInss = (this.salarioBruto * 14 / 100) - 148.72;
		} else {
//			return descontoInss = 6433.57 * 14 / 100;
			return descontoInss = 751.97;
		}
	}

	public double getDescontoIR() {
		return descontoIR = this.dependentes.length * 189.59;
	}
}
